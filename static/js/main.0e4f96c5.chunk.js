(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{114:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),i=t.n(l),o=(t(89),t(47)),c=t(8),s=t(28),u=t(29),m=t(31),d=t(30),p=t(155),h=t(149),f=t(146),g=t(153),E=t(148),v=t(154),b=t(150),w=t(147),y=t(42),x=t.n(y),C=t(70),S=t(4),j=t(142),O=t(22),k=t.n(O),N=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={credentials:{email:null,password:null},token:null},e.loginHandler=function(){k.a.post("https://shortenerapi.azurewebsites.net/entrar",e.state.credentials).then((function(a){var t=a.data.mensagem;localStorage.setItem("Authorization","Bearer "+t),e.setState({token:t,credentials:{password:null}})})).catch((function(e){return console.log(e)}))},e.inputHandler=function(a,t){var n=e.state.credentials;n[t]=a.target.value,e.setState({credentials:n})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.classes;return r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(p.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Conecte-se"),r.a.createElement(w.a,{className:a.form,container:!0,spacing:2},r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(a){return e.inputHandler(a,"email")}}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){return e.inputHandler(a,"password")}}),r.a.createElement(E.a,{control:r.a.createElement(v.a,{value:"remember",color:"primary"}),label:"Lembrar minhas credenciais."}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:this.loginHandler},"Sign In"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(b.a,{href:"#",variant:"body2"},"Esqueceu sua senha?")),r.a.createElement(w.a,{item:!0},r.a.createElement(b.a,{href:"#/registrar",variant:"body2"},"Ainda n\xe3o tem uma conta? Registre-se"),this.state.token?r.a.createElement(c.a,{to:"/perfil"}):null)))))}}]),t}(n.Component),H=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(N),W=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={credentials:{email:null,password:null,confirmPassword:null},success:!1},e.inputHandler=function(a,t){var n=e.state.credentials;n[t]=a.target.value,e.setState({credentials:n})},e.registerHandler=function(){k.a.post("https://shortenerapi.azurewebsites.net/registrar",e.state.credentials).then((function(a){console.log(a.data.success),e.setState({success:a.data.success,credentials:{password:null,confirmPassword:null}})})).catch((function(e){return console.log(e)}))},e.inputHandler=function(a,t){var n=e.state.credentials;n[t]=a.target.value,e.setState({credentials:n})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.classes;return r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(p.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Registre-se"),r.a.createElement(w.a,{className:a.form,container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Endere\xe7o de e-mail",name:"email",autoComplete:"email",onChange:function(a){return e.inputHandler(a,"email")}})),r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",onChange:function(a){return e.inputHandler(a,"password")}})),r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Confirme sua senha",type:"password",id:"confirm-password",autoComplete:"current-password",onChange:function(a){return e.inputHandler(a,"confirmPassword")}}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(b.a,{href:"#/entrar",variant:"body2"},"J\xe1 possui uma conta? Conecte-se")))))}}]),t}(n.Component),z=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(W),A=t(68),R=t(151),T=t(152),I=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={},n.inputHandler=function(e){var a=n.state.urlReal;a=e.target.value,n.setState({urlReal:a})},n.urlHandler=function(){var e=JSON.stringify({urlReal:n.state.urlReal});k.a.post("https://shortenerapi.azurewebsites.net/encurtar",e,{headers:{Authorization:localStorage.getItem("Authorization"),"Content-Type":"application/json"}}).then((function(e){var a=[].concat(Object(A.a)(n.state.data),[e.data]);n.setState({urlReal:null,data:a,ultimaUrlEncurtada:e.data.urlEncurtada})})).catch((function(e){return console.log(e)}))},n.state={data:null,error:!1,loading:!0,urlReal:null,ultimaUrlEncurtada:null},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("https://shortenerapi.azurewebsites.net/perfil",{headers:{Authorization:localStorage.getItem("Authorization")}}).then((function(a){e.setState({loading:!1,data:a.data})})).catch((function(a){return e.setState({error:!0})}))}},{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.data?this.state.data.map((function(e){return r.a.createElement(w.a,{style:{padding:"5px"},lg:4,sm:6,xs:12},r.a.createElement(R.a,{className:a.root,variant:"outlined"},r.a.createElement(T.a,null,r.a.createElement(C.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"EndPoint: ",e.urlEncurtada),r.a.createElement(C.a,{className:a.pos,color:"textSecondary"},"Redirecionar para: ",e.urlReal),r.a.createElement(C.a,{variant:"body2",component:"p"},"Acessos redirecionados: ",e.acessos))))})):null,n=r.a.createElement("div",null,r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(C.a,{component:"h1",variant:"h5"},"Encurte um novo link"),r.a.createElement(w.a,{className:a.form,container:!0,spacing:2},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"text",label:"Url",name:"text",autoComplete:"text",autoFocus:!0,onChange:function(a){return e.inputHandler(a)}})),this.state.ultimaUrlEncurtada?r.a.createElement("a",{target:"blank",href:"https://igortheodoro.github.io/front-end-url-shortener/#/".concat(this.state.ultimaUrlEncurtada)},"https://igortheodoro.github.io/front-end-url-shortener/#/",this.state.ultimaUrlEncurtada):null)),r.a.createElement(w.a,{className:a.form,container:!0},t));return r.a.createElement("div",null,this.state.loading?null:n,this.state.error?r.a.createElement(c.a,{to:"/entrar"}):null)}}]),t}(n.Component),U=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}}),{withTheme:!0})(I);function q(){var e=window.location.href,a=e.lastIndexOf("/"),t=e.substring(a+1,e.length);return k.a.get("https://shortenerapi.azurewebsites.net/".concat(t)).then((function(e){return window.location.href=function(e){var a=e.search("http://"),t=e.search("https://");return a>=0||t>=0?e:"https://"+e}(e.data.url)})).catch((function(e){return console.log(e)})),r.a.createElement("h1",null," ")}function P(){return r.a.createElement("h1",null)}function B(){return r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/entrar"},r.a.createElement(H,null)),r.a.createElement(c.b,{path:"/registrar"},r.a.createElement(z,null)),r.a.createElement(c.b,{path:"/perfil"},r.a.createElement(U,null)),r.a.createElement(c.b,{exact:!0,path:"/"},r.a.createElement(P,null)),r.a.createElement(c.b,{path:"/"},r.a.createElement(q,null)))}var D=function(){return r.a.createElement(o.a,{basename:"/front-end-url-shortener"},r.a.createElement(B,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))},84:function(e,a,t){e.exports=t(114)},89:function(e,a,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.0e4f96c5.chunk.js.map